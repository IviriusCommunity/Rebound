<?xml version="1.0" encoding="utf-8" ?>
<winuiex:WindowEx
    x:Class="ReboundHubInstaller.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:ReboundHubInstaller"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:winuiex="using:WinUIEx"
    Title="Rebound Hub Installer"
    Width="540"
    Height="480"
    Closed="WindowEx_Closed"
    IsMaximizable="False"
    IsResizable="False"
    mc:Ignorable="d">
    <winuiex:WindowEx.SystemBackdrop>
        <MicaBackdrop />
    </winuiex:WindowEx.SystemBackdrop>
    <Grid>
        <StackPanel
            Margin="10,6,0,0"
            VerticalAlignment="Top"
            Orientation="Horizontal"
            Spacing="8">
            <TextBlock
                VerticalAlignment="Center"
                FontSize="12"
                Text="Rebound Hub Installer" />
            <Border
                Padding="6,2,6,3"
                VerticalAlignment="Center"
                Background="{ThemeResource AccentFillColorDefaultBrush}"
                CornerRadius="2">
                <TextBlock
                    FontSize="10"
                    FontWeight="SemiBold"
                    Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}"
                    Text="BETA" />
            </Border>
        </StackPanel>
        <FlipView
            Margin="0,32,0,80"
            Background="{ThemeResource LayerFillColorDefaultBrush}"
            CornerRadius="0">
            <Grid>
                <Border
                    Width="200"
                    HorizontalAlignment="Left"
                    Background="{ThemeResource LayerFillColorDefaultBrush}" />
                <StackPanel
                    Margin="200,0,0,0"
                    Padding="20,12"
                    Spacing="8">
                    <TextBlock
                        HorizontalAlignment="Left"
                        FontSize="24"
                        FontWeight="SemiBold"
                        HorizontalTextAlignment="Left"
                        Text="Welcome to the Rebound Hub installer!"
                        TextWrapping="WrapWholeWords" />
                    <TextBlock Text="Configure and install Rebound Hub." />
                    <RadioButtons>
                        <RadioButton Content="Install Rebound Hub" IsChecked="True" />
                        <RadioButton Content="Repair Rebound Hub" />
                        <RadioButton Content="Uninstall Rebound and Rebound Hub" />
                    </RadioButtons>
                    <InfoBar
                        Title="Rebound is a Windows mod. Install only if you have sufficient knowledge of Windows internals."
                        IsClosable="False"
                        IsOpen="True"
                        Severity="Warning" />
                </StackPanel>
            </Grid>
            <Grid Margin="16">
                <StackPanel Spacing="12">
                    <TextBlock
                        FontSize="20"
                        FontWeight="SemiBold"
                        Text="Installing..." />
                    <TextBlock Text="Copying [PATH] to [PATH]..." TextTrimming="CharacterEllipsis" />
                    <ProgressBar Value="32" />
                    <InfoBar Severity="Error" Title="We couldn't find the &quot;data.rzip&quot; file in the current directory. Please make sure it exists and try again." IsOpen="True">
                        <InfoBar.ActionButton>
                            <Button Content="Retry"/>
                        </InfoBar.ActionButton>
                    </InfoBar>
                </StackPanel>
            </Grid>
            <Grid Margin="32,0" VerticalAlignment="Center">
                <StackPanel Spacing="16">
                    <Image
                        Width="128"
                        Height="128"
                        Source="/Assets/ReboundHubInstaller.ico" />
                    <TextBlock
                        FontSize="24"
                        FontWeight="SemiBold"
                        Text="Rebound Hub Installer"
                        TextAlignment="Center"
                        TextWrapping="WrapWholeWords" />
                    <TextBlock
                        Text="Scroll or swipe to see what features Rebound has to offer. You can configure the mod from Rebound Hub after it finishes installing."
                        TextAlignment="Center"
                        TextWrapping="WrapWholeWords" />
                    <Grid
                        Width="360"
                        Height="160"
                        Background="{ThemeResource LayerOnMicaBaseAltFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid Background="#ffffff">
                            <TextBlock
                                Margin="4"
                                FontSize="12"
                                Foreground="Black"
                                Text="Header" />
                            <Grid Margin="8,32,8,60">
                                <Border BorderBrush="#a0a0a0" BorderThickness="1,1,0,0" />
                                <Border
                                    Margin="1"
                                    BorderBrush="#696969"
                                    BorderThickness="1,1,0,0" />
                                <Border
                                    Margin="1,1,0,0"
                                    BorderBrush="#d7d7d7"
                                    BorderThickness="0,0,1,1" />
                                <TextBlock
                                    Margin="4"
                                    FontSize="12"
                                    Foreground="Black"
                                    Text="Container" />
                                <Border
                                    Width="90"
                                    Height="22"
                                    Margin="12"
                                    VerticalAlignment="Bottom"
                                    Background="#cce8ff"
                                    BorderBrush="#99d1ff"
                                    BorderThickness="1"
                                    CornerRadius="3">
                                    <TextBlock
                                        Margin="0,1,0,-1"
                                        FontSize="12"
                                        Foreground="Black"
                                        Text="Toggle button"
                                        TextAlignment="Center" />
                                </Border>
                                <Border
                                    Margin="8"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Bottom"
                                    Background="#ffffe1"
                                    BorderBrush="#646464"
                                    BorderThickness="1">
                                    <TextBlock
                                        Margin="2,0,2,1"
                                        FontSize="11"
                                        Foreground="Black"
                                        Text="Tooltip"
                                        TextAlignment="Center" />
                                </Border>
                            </Grid>
                            <Border
                                Width="80"
                                Height="22"
                                Margin="12"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Bottom"
                                Background="#ffffff"
                                BorderBrush="#0078d4"
                                BorderThickness="1"
                                CornerRadius="3">
                                <TextBlock
                                    Margin="0,1,0,-1"
                                    FontSize="12"
                                    Foreground="Black"
                                    Text="Win32"
                                    TextAlignment="Center" />
                            </Border>
                        </Grid>
                        <Grid Grid.Column="1">
                            <TextBlock Margin="12,8" Text="Header" />
                            <Grid
                                Margin="12,32,12,48"
                                Background="{ThemeResource LayerOnMicaBaseAltFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                CornerRadius="8">
                                <TextBlock Margin="12,8" Text="Container" />
                                <ToggleButton
                                    Margin="12"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Bottom"
                                    Content="Toggle button"
                                    IsChecked="True"
                                    IsHitTestVisible="False"
                                    IsTabStop="False" />
                            </Grid>
                            <Button
                                Width="100"
                                Margin="8"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Bottom"
                                Content="WinUI"
                                IsHitTestVisible="False"
                                IsTabStop="False" />
                            <Grid
                                Margin="4,44"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Bottom"
                                Background="{ThemeResource SolidBackgroundFillColorBaseBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                CornerRadius="4">
                                <TextBlock Margin="10,6" Text="Tooltip" />
                            </Grid>
                        </Grid>
                    </Grid>
                </StackPanel>
            </Grid>
            <Grid Margin="32,0">
                <StackPanel Spacing="16">
                    <TextBlock
                        FontSize="24"
                        FontWeight="SemiBold"
                        Text="Attention to detail"
                        TextWrapping="WrapWholeWords" />
                    <TextBlock Text="At Ivirius Community, we pay attention to detail to ensure a smooth experience with WinUI apps in Windows." TextWrapping="WrapWholeWords" />
                    <Grid
                        Width="480"
                        Height="320"
                        Background="{ThemeResource LayerOnMicaBaseAltFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8">
                        <StackPanel
                            Margin="12,8,12,0"
                            VerticalAlignment="Top"
                            Orientation="Horizontal"
                            Spacing="8">
                            <TextBlock
                                VerticalAlignment="Center"
                                FontSize="12"
                                Text="Test App" />
                            <Border
                                Padding="6,2,6,3"
                                VerticalAlignment="Center"
                                Background="{ThemeResource AccentFillColorDefaultBrush}"
                                CornerRadius="2">
                                <TextBlock
                                    FontSize="10"
                                    FontWeight="SemiBold"
                                    Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}"
                                    Text="LABEL" />
                            </Border>
                        </StackPanel>
                        <StackPanel
                            Margin="20,12"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Orientation="Horizontal"
                            Spacing="36">
                            <FontIcon FontSize="10" Glyph="&#xE921;" />
                            <FontIcon FontSize="10" Glyph="&#xE922;" />
                            <FontIcon FontSize="10" Glyph="&#xE8BB;" />
                        </StackPanel>
                        <MenuBar Margin="0,32" VerticalAlignment="Top">
                            <MenuBarItem Title="File" />
                            <MenuBarItem Title="Edit" />
                            <MenuBarItem Title="View" />
                        </MenuBar>
                        <TextBox
                            Margin="0,72,0,80"
                            BorderThickness="0"
                            CornerRadius="0" />
                        <Grid
                            Height="80"
                            VerticalAlignment="Bottom"
                            Background="{ThemeResource SystemControlBackgroundAltMediumLowBrush}"
                            CornerRadius="0, 0, 7, 7">
                            <StackPanel
                                Margin="24"
                                HorizontalAlignment="Right"
                                Orientation="Horizontal"
                                Spacing="8">
                                <Button
                                    Width="120"
                                    Content="Apply"
                                    Style="{StaticResource AccentButtonStyle}" />
                                <Button Width="120" Content="Cancel" />
                            </StackPanel>
                        </Grid>
                    </Grid>
                </StackPanel>
            </Grid>
            <Grid Margin="32,0">
                <StackPanel Spacing="16">
                    <TextBlock
                        FontSize="24"
                        FontWeight="SemiBold"
                        Text="Proper DPI scaling"
                        TextWrapping="WrapWholeWords" />
                    <TextBlock Text="WinUI apps use modern graphics so they can adapt to DPI scaling perfectly." TextWrapping="WrapWholeWords" />
                    <Grid
                        Width="480"
                        Height="320"
                        Background="{ThemeResource LayerOnMicaBaseAltFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8">
                        <Viewbox>
                            <StackPanel
                                Margin="24"
                                HorizontalAlignment="Right"
                                Spacing="8">
                                <ToggleSwitch />
                                <ProgressBar IsIndeterminate="True" />
                                <StackPanel
                                    HorizontalAlignment="Right"
                                    Orientation="Horizontal"
                                    Spacing="8">
                                    <Button
                                        Width="120"
                                        Content="Apply"
                                        Style="{StaticResource AccentButtonStyle}" />
                                    <Button Width="120" Content="Cancel" />
                                </StackPanel>
                            </StackPanel>
                        </Viewbox>
                    </Grid>
                </StackPanel>
            </Grid>
            <Grid Margin="32,0">
                <StackPanel Spacing="16">
                    <TextBlock
                        FontSize="24"
                        FontWeight="SemiBold"
                        Text="Non-invasive modding"
                        TextWrapping="WrapWholeWords" />
                    <TextBlock Text="Rebound uses safe modding methods for maximum compatibility with Windows updates." TextWrapping="WrapWholeWords" />
                    <TextBlock
                        FontSize="24"
                        FontWeight="SemiBold"
                        Text="Trusted by developers across the world"
                        TextWrapping="WrapWholeWords" />
                    <TextBlock Text="Apps like Ambie, Screenbox, SecureFolderFS, Wino Mail, Files, ClipboardCanvas, Character Map UWP are included in Rebound." TextWrapping="WrapWholeWords" />
                    <TextBlock
                        FontSize="24"
                        FontWeight="SemiBold"
                        Text="Free and open source"
                        TextWrapping="WrapWholeWords" />
                    <TextBlock Text="Anyone can contribute, improve, and see the source code of Rebound at all times. (Note: some 3rd party apps in Rebound may cost money)." TextWrapping="WrapWholeWords" />
                    <TextBlock
                        FontSize="24"
                        FontWeight="SemiBold"
                        Text="Flexible"
                        TextWrapping="WrapWholeWords" />
                    <TextBlock Text="Rebound modding APIs can be used in other apps as well via the powerful Rebound Forge modding engine." TextWrapping="WrapWholeWords" />
                </StackPanel>
            </Grid>
        </FlipView>
        <Grid
            Height="80"
            VerticalAlignment="Bottom"
            Background="{ThemeResource SystemControlBackgroundAltMediumLowBrush}">
            <ProgressRing
                x:Name="InstallingProgressRing"
                Width="24"
                Height="24"
                Margin="24"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                IsIndeterminate="False"
                Maximum="100" />
            <StackPanel
                x:Name="ButtonsStackPanel"
                Margin="24"
                HorizontalAlignment="Right"
                Orientation="Horizontal"
                Spacing="8">
                <DropDownButton
                    Width="160"
                    Content="More options"
                    Visibility="Collapsed">
                    <DropDownButton.Flyout>
                        <MenuFlyout>
                            <MenuFlyoutItem Command="{x:Bind RemoveReboundCommand}" Text="Remove Rebound Hub" />
                            <MenuFlyoutItem Command="{x:Bind RepairReboundHubCommand}" Text="Repair Rebound Hub" />
                        </MenuFlyout>
                    </DropDownButton.Flyout>
                </DropDownButton>
                <Button
                    Width="120"
                    Command="{x:Bind CloseAppCommand}"
                    Content="Cancel" />
                <Button
                    Width="120"
                    Command="{x:Bind InstallCommand}"
                    Content="Next"
                    Style="{StaticResource AccentButtonStyle}" />
            </StackPanel>
            <TextBlock
                x:Name="DescriptionBox"
                Margin="64,16,24,16"
                VerticalAlignment="Center"
                Text="Installing: Rebound Hub MSIX Package. This may take a while."
                TextWrapping="WrapWholeWords"
                Visibility="Collapsed" />
        </Grid>
    </Grid>
</winuiex:WindowEx>