<Project Sdk="Microsoft.NET.Sdk">
    <PropertyGroup>
        <OutputType>WinExe</OutputType>
        <RootNamespace>Rebound</RootNamespace>
        <EnableMsixTooling>true</EnableMsixTooling>
        <Version>0.0.3</Version>

		<PublishTrimmed>false</PublishTrimmed>
		
		<!-- Application Manifest -->
		<ApplicationManifest>app.manifest</ApplicationManifest>
	</PropertyGroup>

    <ItemGroup>
        <Content Include="Assets\SplashScreen.scale-200.png" />
        <Content Include="Assets\LockScreenLogo.scale-200.png" />
        <Content Include="Assets\Square150x150Logo.scale-200.png" />
        <Content Include="Assets\Square44x44Logo.scale-200.png" />
        <Content Include="Assets\Square44x44Logo.targetsize-24_altform-unplated.png" />
        <Content Include="Assets\Wide310x150Logo.scale-200.png" />
        <Content Include="Fonts\FluentIcons.ttf">
          <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </Content>
        <Content Include="Modding\Launchers\rcleanmgr.exe" />
        <Content Include="Modding\Launchers\rcontrol.exe" />
        <Content Include="Modding\Launchers\rosk.exe" />
        <Content Include="Modding\Launchers\rshell.exe" />
        <Content Include="Modding\Launchers\ruseraccountcontrolsettings.exe" />
        <Content Include="Modding\Launchers\rwinver.exe" />
    </ItemGroup>
	
    <ItemGroup>
        <CustomAdditionalCompileInputs Remove="Views\HomePage.xaml" />
    </ItemGroup>
    <ItemGroup>
        <Resource Remove="Views\HomePage.xaml" />
    </ItemGroup>
    <ItemGroup>
        <PRIResource Remove="Assets\Wallpapers\**" />
    </ItemGroup>
    <ItemGroup>
      <None Remove="Assets\AppBanners\FilesDark.png" />
      <None Remove="Assets\AppBanners\FilesLight.png" />
      <None Remove="Assets\AppBanners\IviriusTextEditorDark.png" />
      <None Remove="Assets\AppBanners\IviriusTextEditorLight.png" />
      <None Remove="Assets\AppBanners\WinverDark.png" />
      <None Remove="Assets\AppBanners\WinverLight.png" />
      <None Remove="Assets\AppIcons\AboutWindows.ico" />
      <None Remove="Assets\AppIcons\CubeKit.png" />
      <None Remove="Assets\AppIcons\DiscordLogo.png" />
      <None Remove="Assets\AppIcons\Docs.png" />
      <None Remove="Assets\AppIcons\IviriusTextEditorFree.png" />
      <None Remove="Assets\AppIcons\IviriusTextEditorPaid.png" />
      <None Remove="Assets\AppIcons\ReboundIcon.ico" />
      <None Remove="Assets\AppIcons\Rectify11.png" />
      <None Remove="Assets\Backgrounds\WallpaperDark.png" />
      <None Remove="Assets\Backgrounds\WallpaperLight.png" />
      <None Remove="Launcher_OSK.obj" />
      <None Remove="Modding\Launchers\rcleanmgr.exe" />
      <None Remove="Modding\Launchers\rcontrol.exe" />
      <None Remove="Modding\Launchers\rosk.exe" />
      <None Remove="Modding\Launchers\rshell.exe" />
      <None Remove="Modding\Launchers\ruseraccountcontrolsettings.exe" />
      <None Remove="Modding\Launchers\rwinver.exe" />
    </ItemGroup>
    <ItemGroup>
      <AdditionalFiles Include="NativeMethods.txt" />
    </ItemGroup>
	
    <ItemGroup>
      <Content Update="Assets\AppIcons\AboutWindows.ico">
        <CopyToOutputDirectory>Always</CopyToOutputDirectory>
      </Content>
      <Content Update="Assets\Backgrounds\BackgroundDark.jpg">
        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      </Content>
      <Content Update="Assets\Backgrounds\BackgroundDarkNew.png">
        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      </Content>
      <Content Update="Assets\Backgrounds\BackgroundLight.jpg">
        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      </Content>
      <Content Update="Assets\Backgrounds\BackgroundLightNew.png">
        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      </Content>
    </ItemGroup>
    <ItemGroup>
      <Page Update="Styles\CaptionButtons.xaml">
        <Generator>MSBuild:Compile</Generator>
      </Page>
    </ItemGroup>
    <ItemGroup>
      <Page Update="Views\EmptyPage.xaml">
        <Generator>MSBuild:Compile</Generator>
      </Page>
    </ItemGroup>
    <ItemGroup>
      <Page Update="Styles\Images.xaml">
        <Generator>MSBuild:Compile</Generator>
      </Page>
    </ItemGroup>
    <ItemGroup>
      <Page Update="Styles\NavigationViews.xaml">
        <Generator>MSBuild:Compile</Generator>
      </Page>
    </ItemGroup>

	<!-- Package References - These will only apply to projects that compile ahead-of-time (apps and libraries) -->
	<ItemGroup>

		<!-- WebView2 -->
		<PackageReference Include="Microsoft.Web.WebView2" Version="1.0.3116-prerelease" />

		<!-- Windows App SDK and WinUI -->
		<PackageReference Include="Microsoft.Windows.SDK.BuildTools" Version="10.0.26100.1742" />
		<PackageReference Update="Microsoft.WindowsAppSDK" Version="1.8.250410001-experimental1" />
		<PackageReference Include="WinUIEx" Version="2.5.1" />

		<!-- Windows Interop -->
		<PackageReference Include="Microsoft.Windows.CsWinRT" Version="2.2.0" />
		<PackageReference Include="Microsoft.Windows.CsWin32" Version="0.3.183">
			<PrivateAssets>all</PrivateAssets>
			<IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
		</PackageReference>

		<!-- System and Management Libraries -->
		<PackageReference Include="System.Drawing.Common" Version="9.0.2" />
		<PackageReference Include="System.Management" Version="10.0.0-preview.2.25163.2" />

		<!-- Task Scheduler -->
		<PackageReference Include="TaskScheduler" Version="2.11.0" />

		<!-- CommunityToolkit Libraries -->
		<PackageReference Include="CommunityToolkit.Mvvm" Version="8.4.0" />
		<PackageReference Include="CommunityToolkit.WinUI.Converters" Version="8.2.250129-preview2" />
		<PackageReference Include="CommunityToolkit.WinUI.Media" Version="8.2.250129-preview2" />
		<PackageReference Include="CommunityToolkit.WinUI.Animations" Version="8.2.250129-preview2" />
		<PackageReference Include="CommunityToolkit.WinUI.Behaviors" Version="8.2.250129-preview2" />
		<PackageReference Include="CommunityToolkit.WinUI.Controls.Primitives" Version="8.2.250129-preview2" />
		<PackageReference Include="CommunityToolkit.WinUI.Extensions" Version="8.2.250129-preview2" />
		<PackageReference Include="CommunityToolkit.WinUI.Helpers" Version="8.2.250129-preview2" />
		<PackageReference Include="CommunityToolkit.WinUI.Triggers" Version="8.2.250129-preview2" />
		<PackageReference Include="CommunityToolkit.WinUI.Controls.SettingsControls" Version="8.2.250129-preview2" />

		<!-- 3rd Party -->
		<PackageReference Include="H.NotifyIcon" Version="2.2.0" />

	</ItemGroup>
	<ItemGroup>
	  <ProjectReference Include="..\..\core\packaged\Rebound.Core.SourceGeneratorAttributes\Rebound.Core.SourceGeneratorAttributes.csproj" />
	  <ProjectReference Include="..\..\core\packaged\Rebound.Core.SourceGenerator\Rebound.Core.SourceGenerator.csproj" OutputItemType="Analyzer" ReferenceOutputAssembly="false" />
	</ItemGroup>
	<Import Project="..\..\core\forge\Rebound.Forge\Rebound.Forge.projitems" Label="Shared" />
	<Import Project="..\..\core\shared\Rebound.Core.Helpers\Rebound.Core.Helpers.projitems" Label="Shared" />

	<!-- Custom task to compile C++ file -->
	<!--<Target Name="CompileCppFile" AfterTargets="Build">
		<ItemGroup>
			<CppFiles Include="Launcher.cpp" />
		</ItemGroup>
		<PropertyGroup>
			<CppOutputPath>$(MSBuildThisFileDirectory)</CppOutputPath>
		</PropertyGroup>
		<Exec Command="&quot;C:\Program Files\Microsoft Visual Studio\2022\Preview\VC\Tools\MSVC\14.44.34918\bin\Hostx64\x64\cl.exe&quot; /EHsc /I&quot;C:\Program Files (x86)\Windows Kits\10\Include\10.0.19041.0\um&quot; /I&quot;C:\Program Files (x86)\Windows Kits\10\Include\10.0.19041.0\shared&quot; /I&quot;C:\Program Files (x86)\Windows Kits\10\Include\10.0.19041.0\ucrt&quot; /I&quot;C:\Program Files\Microsoft Visual Studio\2022\Preview\VC\Tools\MSVC\14.44.34918\include&quot; &quot;$(MSBuildThisFileDirectory)Launcher_OSK.cpp&quot; /Fo&quot;$(CppOutputPath)Launcher_OSK.obj&quot; /Fe&quot;$(CppOutputPath)rosk.exe&quot; /link /LIBPATH:&quot;C:\Program Files (x86)\Windows Kits\10\Lib\10.0.19041.0\um\x64&quot; /LIBPATH:&quot;C:\Program Files (x86)\Windows Kits\10\Lib\10.0.19041.0\ucrt\x64&quot; /LIBPATH:&quot;C:\Program Files\Microsoft Visual Studio\2022\Preview\VC\Tools\MSVC\14.44.34918\lib\x64&quot; uuid.lib libcpmt.lib libucrt.lib Advapi32.lib Shell32.lib" />
	</Target>-->

</Project>
